/* Quasar Admin Styles */

/* Import Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import shared CSS from Design System */
/* This is separately imported in main.tsx */

/* Global Layout Styles */
html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

/* Force full width on all containers */
.MuiContainer-root,
.MuiGrid-root,
.MuiBox-root {
  width: 100% !important;
  max-width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  box-sizing: border-box !important;
}

.MuiGrid-container {
  width: 100% !important;
  margin: 0 !important;
}

/* Theme CSS Variables */
:root {
  /* 默认变量，会被ThemeContext中的值覆盖 */
  --color-primary: #2563eb;
  --color-secondary: #0284c7;
  --color-accent: #7c3aed;
  --color-neutral: #4b5563;
  --color-success: #16a34a;
  --color-warning: #d97706;
  --color-error: #dc2626;
  --color-info: #0284c7;

  /* 浅色模式默认值 */
  --color-bg-primary: #ffffff;
  --color-bg-surface: #f8fafc;
  --color-text-primary: #0f172a;
  --color-text-secondary: #334155;
  --color-text-muted: #64748b;
  --color-border: #cbd5e1;

  /* 边框圆角 */
  --border-radius: 0.375rem;

  /* Enhanced checkbox variables for better visibility */
  --checkbox-border-color: #9ca3af;
  --checkbox-border-color-hover: #2563eb;
  --checkbox-bg-checked: #2563eb;
  --checkbox-border-checked: #2563eb;
  --checkbox-shadow-checked: rgba(37, 99, 235, 0.2);
  --checkbox-checkmark-color: #ffffff;

  /* 登录页面特定变量 */
  --login-primary-color: #2563eb;
  --login-secondary-color: #0284c7;
  --login-text-color: #0f172a;
}

/* 深色模式CSS变量 */
.dark {
  --color-bg-primary: #111827;
  --color-bg-surface: #1f2937;
  --color-text-primary: #f9fafb;
  --color-text-secondary: #e5e7eb;
  --color-text-muted: #9ca3af;
  --color-border: #374151;

  /* Enhanced dark mode checkbox variables */
  --checkbox-border-color: #6b7280;
  --checkbox-border-color-hover: #60a5fa;
  --checkbox-bg-checked: #3b82f6;
  --checkbox-border-checked: #3b82f6;
  --checkbox-shadow-checked: rgba(96, 165, 250, 0.3);
  --checkbox-checkmark-color: #ffffff;

  /* 登录页面深色模式默认值 */
  --login-primary-color: #60a5fa;
  --login-secondary-color: #38bdf8;
  --login-text-color: #f9fafb;
}

/* Admin-specific styles */
@layer components {
  /* 主题化组件类 */
  .themed-card {
    background-color: var(--color-bg-surface, #f8fafc);
    color: var(--color-text-primary, #0f172a);
    border: 1px solid var(--color-border, #cbd5e1);
    border-radius: var(--border-radius, 0.375rem);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  .themed-button {
    background-color: var(--color-primary, #2563eb);
    color: white;
    border-radius: var(--border-radius, 0.375rem);
    
    &:hover {
      filter: brightness(1.1);
    }
  }
  
  .themed-input {
    background-color: var(--color-bg-surface, #f8fafc);
    color: var(--color-text-primary, #0f172a);
    border: 1px solid var(--color-border, #cbd5e1);
    border-radius: var(--border-radius, 0.375rem);
    
    &:focus {
      border-color: var(--color-primary, #2563eb);
      outline: none;
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
    }
  }
  
  /* 自定义组件样式 */
  .auth-page {
    @apply transition-all duration-300;
    background-color: var(--color-bg-primary, #ffffff);
  }
  
  /* 登录页面浅色模式样式增强 */
  .login-light-mode {
    .text-gray-600 {
      color: #334155 !important; /* 确保浅色模式下文本颜色足够深 */
    }
    
    .text-gray-700 {
      color: #1e293b !important;
    }
    
    .text-gray-900 {
      color: #0f172a !important;
    }
    
    .text-white {
      color: #ffffff !important;
    }
    
    /* 确保左侧面板中文本有足够对比度 */
    .feature-item-enhanced {
      span {
        color: var(--color-text-primary) !important;
        font-weight: 600 !important;
      }
    }
    
    /* 增强语言选择器在浅色模式下的样式 */
    .locale-switcher {
      select {
        background-color: rgba(255, 255, 255, 0.4);
        color: #0f172a;
        border-color: rgba(255, 255, 255, 0.5);
        
        &:focus {
          border-color: rgba(37, 99, 235, 0.6);
          box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.3);
        }
      }
    }
    
    /* 增强按钮和输入框的对比度 */
    .themed-button, 
    button[type="submit"],
    .btn-primary {
      background-color: var(--color-primary);
      background-image: linear-gradient(to right, #1d4ed8, #1e40af);
      border: none;
      font-weight: 600;
      box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3), 0 2px 4px -1px rgba(37, 99, 235, 0.2);
      letter-spacing: 0.025em;
      
      &:hover {
        transform: translateY(-1px);
        box-shadow: 0 5px 8px -1px rgba(37, 99, 235, 0.35), 0 4px 6px -1px rgba(37, 99, 235, 0.25);
      }
    }
    
    input, select, textarea {
      border-color: #cbd5e1;
      color: #0f172a;
      
      &:focus {
        border-color: var(--color-primary);
      }
    }
    
    /* 卡片和容器增强 */
    .card, .container, .panel {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    }
  }
  
  /* 使用CSS变量的主题按钮样式 */
  .theme-btn-primary {
    @apply bg-gradient-to-r;
    background-image: linear-gradient(to right, var(--color-primary, #2563eb), #1d4ed8);
    color: white;
    font-weight: 600;
    box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3), 0 2px 4px -1px rgba(37, 99, 235, 0.2);
  }
  
  /* 增强左侧面板按钮的对比度 */
  .bg-primary-500\/20 {
    background-color: rgba(37, 99, 235, 0.3) !important;
  }
  
  /* 确保特性项图标背景有足够对比度 */
  .feature-icon-bg {
    background-color: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(4px);
  }
  
  /* 浅色模式下特定样式 */
  .light-mode-feature-item {
    .feature-icon {
      @apply bg-primary-100 text-primary-700 border border-primary-200;
    }
    .feature-text {
      @apply text-slate-800 font-semibold;
    }
  }

  /* Enhanced checkbox styles for better visibility */
  .enhanced-checkbox {
    @apply border-2 transition-all duration-200;
    border-color: var(--checkbox-border-color);

    &:hover {
      border-color: var(--checkbox-border-color-hover);
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
    }

    &:checked {
      background-color: var(--checkbox-bg-checked);
      border-color: var(--checkbox-border-checked);
      box-shadow: 0 2px 4px var(--checkbox-shadow-checked);
    }

    &:focus {
      @apply outline-none ring-2 ring-primary-500 ring-offset-2;
    }

    &:disabled {
      @apply opacity-50 cursor-not-allowed;
      border-color: var(--color-border);
    }
  }
  
  /* 登录按钮增强样式 */
  .btn-primary {
    @apply relative overflow-hidden;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg, 
        transparent, 
        rgba(255, 255, 255, 0.2), 
        transparent
      );
      transition: all 0.5s;
    }
    
    &:hover::before {
      left: 100%;
    }
  }
}

@layer utilities {
  /* Custom utilities can go here */
  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }

  /* FileTypeSelector hover overrides with higher specificity */
  .category-item:hover, .file-type-item:hover {
    background-color: #3b82f6 !important;
    color: white !important;
  }
  
  .category-item:hover *, .file-type-item:hover * {
    color: white !important;
  }
  
  .category-item:hover span, .file-type-item:hover span {
    color: white !important;
  }
  
  .category-item:hover div, .file-type-item:hover div {
    color: white !important;
  }
  
  .category-item:hover svg, .file-type-item:hover svg {
    color: white !important;
  }
  
  /* Target specific Tailwind classes with higher specificity */
  .category-item:hover .text-gray-600,
  .category-item:hover .text-gray-900,
  .category-item:hover .text-gray-500,
  .category-item:hover .text-gray-400,
  .file-type-item:hover .text-gray-600,
  .file-type-item:hover .text-gray-900,
  .file-type-item:hover .text-gray-500,
  .file-type-item:hover .text-gray-400 {
    color: white !important;
  }
  
  /* Dark mode support */
  .dark .category-item:hover, .dark .file-type-item:hover {
    background-color: #2563eb !important;
  }
  
  .dark .category-item:hover *, .dark .file-type-item:hover * {
    color: white !important;
  }
  
  .dark .category-item:hover .text-gray-100,
  .dark .category-item:hover .text-gray-300,
  .dark .file-type-item:hover .text-gray-100,
  .dark .file-type-item:hover .text-gray-300 {
    color: white !important;
  }

  /* Input with left icon spacing utilities */
  /* Standard icon spacing - for 20px (w-5 h-5) icons with proper padding */
  .input-with-left-icon {
    padding-left: 3.5rem !important; /* 56px - accommodates icon + comfortable spacing */
  }

  /* Compact icon spacing - for smaller icons or tighter layouts */
  .input-with-left-icon-compact {
    padding-left: 2.75rem !important; /* 44px - more compact spacing */
  }

  /* Large icon spacing - for bigger icons or more generous spacing */
  .input-with-left-icon-large {
    padding-left: 4rem !important; /* 64px - extra generous spacing */
  }

  /* Icon container positioning utilities */
  .input-icon-left {
    position: absolute;
    left: 0.75rem; /* 12px from left edge */
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: theme('colors.gray.400');
  }

  /* Dark mode icon color */
  .dark .input-icon-left {
    color: theme('colors.gray.500');
  }

  /* Table search input with proper icon spacing - keeping for backward compatibility */
  .table-search-input {
    padding-left: 2.75rem !important; /* 44px - matches pl-11 */
  }

  /* Additional specificity for table search input */
  div.relative input.table-search-input {
    padding-left: 2.75rem !important; /* 44px - matches pl-11 */
    box-sizing: border-box !important;
  }
  
  .text-shadow-none {
    text-shadow: none;
  }
  
  /* 针对不同模式的文本颜色工具类 */
  .text-theme-primary {
    color: var(--color-text-primary, #0f172a);
  }
  
  .text-theme-secondary {
    color: var(--color-text-secondary, #334155);
  }
  
  .text-theme-muted {
    color: var(--color-text-muted, #64748b);
  }
  
  /* 针对不同模式的背景颜色工具类 */
  .bg-theme-primary {
    background-color: var(--color-bg-primary, #ffffff);
  }
  
  .bg-theme-surface {
    background-color: var(--color-bg-surface, #f8fafc);
  }
  
  /* 增强浅色模式的阴影效果，以提高可见性 */
  .light-mode-enhanced-shadow {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.05);
  }
  
  /* 增强文本可读性的阴影效果 */
  .text-shadow-enhanced {
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5), 0 0 10px rgba(0, 0, 0, 0.4);
  }
  
  /* 浅色模式下高对比度边框 */
  .light-border-enhanced {
    border-color: #cbd5e1;
  }
  
  /* 浅色模式下的按钮特效 */
  .light-mode-button {
    background-color: var(--color-primary);
    color: white;
    box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
    
    &:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 10px -1px rgba(37, 99, 235, 0.4);
    }
  }
}

/* 自定义动画 */
@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
}

.animate-pulse-slow {
  animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Custom Date Input Styles - Position native date picker over custom icon */
.date-input-custom {
  position: relative;
}

.date-input-custom::-webkit-calendar-picker-indicator {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  opacity: 0;
  cursor: pointer;
  z-index: 10;
  background: transparent;
  border: none;
  outline: none;
}

.date-input-custom::-webkit-inner-spin-button,
.date-input-custom::-webkit-outer-spin-button {
  -webkit-appearance: none !important;
  margin: 0 !important;
}

